<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FancyDialogs Editor - Minecraft Style</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="https://cdn.vercel-insights.com/v1/script.debug.js"></script>
</head>
<body>
    <div class="minecraft-container">
        <div class="mc-header">
            <div class="mc-title">FANCYDIALOGS EDITOR</div>
            <div class="mc-subtitle">Create Minecraft 1.21.6+ Dialogs</div>
        </div>

        <div class="main-grid">
            <!-- Editor Panel -->
            <div class="mc-panel">
                <div class="mc-panel-title">‚öô DIALOG EDITOR</div>

                <div class="mc-tabs">
                    <button class="mc-tab active" data-tab="basic">BASIC</button>
                    <button class="mc-tab" data-tab="body">BODY</button>
                    <button class="mc-tab" data-tab="inputs">INPUTS</button>
                    <button class="mc-tab" data-tab="buttons">BUTTONS</button>
                </div>

                <!-- Basic Tab -->
                <div class="tab-content active" id="basic-tab">
                    <div class="mc-info-box">
                        üí° See <a href="https://github.com/TSERATO/FancyDialogs-Web-Editor/blob/main/README.md" target="_blank" class="info-link">README.md</a> for instructions
                    </div>

                    <label class="mc-label">Dialog ID:</label>
                    <input type="text" class="mc-input" id="dialog-id" placeholder="my_dialog" value="my_dialog">

                    <label class="mc-label">Title:</label>
                    <input type="text" class="mc-input" id="dialog-title" placeholder="<b><color:#ff7300>Title</color></b>" value="<b><color:#ff7300>My Dialog</color></b>">

                    <div class="mc-checkbox-group">
                        <input type="checkbox" class="mc-checkbox" id="can-close-escape" checked>
                        <label class="mc-label" for="can-close-escape" style="margin: 0;">Close with ESC</label>
                    </div>
                </div>

                <!-- Body Tab -->
                <div class="tab-content" id="body-tab">
                    <div class="mc-info-box">
                        üí¨ Each line appears in dialog body
                    </div>

                    <div id="body-lines-container"></div>

                    <button class="mc-button mc-button-green" onclick="addBodyLine()" style="width: 100%;">+ ADD LINE</button>
                </div>

                <!-- Inputs Tab -->
                <div class="tab-content" id="inputs-tab">
                    <div class="mc-tabs">
                        <button class="mc-tab active" data-subtab="textfields">TEXT</button>
                        <button class="mc-tab" data-subtab="selects">DROPDOWN</button>
                        <button class="mc-tab" data-subtab="checkboxes">CHECKBOX</button>
                    </div>

                    <div class="tab-content active" id="textfields-subtab">
                        <div id="textfields-container"></div>
                        <button class="mc-button mc-button-green" onclick="addTextField()" style="width: 100%;">+ ADD TEXT FIELD</button>
                    </div>

                    <div class="tab-content" id="selects-subtab">
                        <div id="selects-container"></div>
                        <button class="mc-button mc-button-green" onclick="addSelect()" style="width: 100%;">+ ADD DROPDOWN</button>
                    </div>

                    <div class="tab-content" id="checkboxes-subtab">
                        <div id="checkboxes-container"></div>
                        <button class="mc-button mc-button-green" onclick="addCheckbox()" style="width: 100%;">+ ADD CHECKBOX</button>
                    </div>
                </div>

                <!-- Buttons Tab -->
                <div class="tab-content" id="buttons-tab">
                    <div class="mc-info-box">
                        üîò Clickable buttons with actions
                    </div>

                    <div id="buttons-container"></div>

                    <button class="mc-button mc-button-green" onclick="addButton()" style="width: 100%;">+ ADD BUTTON</button>
                </div>

                <div class="button-row">
                    <button class="mc-button mc-button-green" onclick="downloadJSON()" style="flex: 1;">üíæ DOWNLOAD</button>
                    <button class="mc-button mc-button-blue" onclick="loadExample()" style="flex: 1;">üìÇ EXAMPLE</button>
                    <button class="mc-button mc-button-gold" onclick="document.getElementById('file-input').click()" style="flex: 1;">üìÅ IMPORT</button>
                    <button class="mc-button mc-button-red" onclick="resetDialog()" style="flex: 1;">üóë RESET</button>
                    <input type="file" id="file-input" accept=".json" style="display: none;" onchange="importJSON(event)">
                </div>
            </div>

            <!-- Preview Panel -->
            <div class="mc-panel">
                <div class="mc-panel-title">üëÅ LIVE PREVIEW</div>

                <div class="mc-tabs">
                    <button class="mc-tab active" data-preview="visual">VISUAL</button>
                    <button class="mc-tab" data-preview="code">CODE</button>
                </div>

                <div class="tab-content active" id="visual-preview">
                    <div class="preview-dialog" id="preview-container"></div>
                </div>

                <div class="tab-content" id="code-preview">
                    <div class="code-preview" id="json-preview"></div>
                </div>
            </div>
        </div>

        <div class="github-link">
            If you find any issues or have feature ideas, please report them on <a href="https://github.com/TSERATO/FancyDialogs-Web-Editor" target="_blank">GitHub</a>
        </div>
    </div>

    <!-- Action Modal -->
    <div id="action-modal" class="mc-modal">
        <div class="mc-modal-content">
            <div class="mc-modal-header">ADD ACTION</div>

            <label class="mc-label">Action Type:</label>
            <select class="mc-select" id="action-type" onchange="updateActionFields()">
                <option value="message">üí¨ Message</option>
                <option value="open_dialog">üìñ Open Dialog</option>
                <option value="open_random_dialog">üé≤ Random Dialog</option>
                <option value="console_command">‚å® Console Command</option>
                <option value="player_command">üë§ Player Command</option>
                <option value="send_to_server">üåê Transfer Server</option>
            </select>

            <div id="action-fields"></div>

            <div class="mc-modal-footer">
                <button class="mc-button mc-button-red" onclick="closeActionModal()">CANCEL</button>
                <button class="mc-button mc-button-green" onclick="confirmAction()">ADD</button>
            </div>
        </div>
    </div>

    <!-- Select Option Modal -->
    <div id="option-modal" class="mc-modal">
        <div class="mc-modal-content">
            <div class="mc-modal-header">ADD OPTION</div>

            <label class="mc-label">Value (placeholder):</label>
            <input type="text" class="mc-input" id="option-value" placeholder="red">

            <label class="mc-label">Display Text:</label>
            <input type="text" class="mc-input" id="option-display" placeholder="<color:red>Red</color>">

            <div class="mc-checkbox-group">
                <input type="checkbox" class="mc-checkbox" id="option-initial">
                <label class="mc-label" for="option-initial" style="margin: 0;">Default Selection</label>
            </div>

            <div class="mc-modal-footer">
                <button class="mc-button mc-button-red" onclick="closeOptionModal()">CANCEL</button>
                <button class="mc-button mc-button-green" onclick="confirmOption()">ADD</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>